[{"D:\\Python\\horizon_react\\frontend\\src\\index.js":"1","D:\\Python\\horizon_react\\frontend\\src\\App.js":"2","D:\\Python\\horizon_react\\frontend\\src\\reportWebVitals.js":"3","D:\\Python\\horizon_react\\frontend\\src\\components\\nav_bar.jsx":"4","D:\\Python\\horizon_react\\frontend\\src\\components\\main.jsx":"5","D:\\Python\\horizon_react\\frontend\\src\\components\\login.jsx":"6","D:\\Python\\horizon_react\\frontend\\src\\components\\side_bar.jsx":"7","D:\\Python\\horizon_react\\frontend\\src\\components\\not_found.jsx":"8","D:\\Python\\horizon_react\\frontend\\src\\components\\news_feed.jsx":"9","D:\\Python\\horizon_react\\frontend\\src\\components\\weather_feed.jsx":"10"},{"size":590,"mtime":1611502716208,"results":"11","hashOfConfig":"12"},{"size":6491,"mtime":1611526580012,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":499162500000,"results":"14","hashOfConfig":"12"},{"size":480,"mtime":1611588829772,"results":"15","hashOfConfig":"12"},{"size":962,"mtime":1611660019895,"results":"16","hashOfConfig":"12"},{"size":868,"mtime":1611504987715,"results":"17","hashOfConfig":"12"},{"size":451,"mtime":1611407858940,"results":"18","hashOfConfig":"12"},{"size":354,"mtime":1611424413856,"results":"19","hashOfConfig":"12"},{"size":2416,"mtime":1611597616654,"results":"20","hashOfConfig":"12"},{"size":1540,"mtime":1611662047136,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"25"},"1a9z64j",{"filePath":"26","messages":"27","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"25"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"25"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"25"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"25"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\Python\\horizon_react\\frontend\\src\\index.js",["50","51","52"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n",["53","54"],"D:\\Python\\horizon_react\\frontend\\src\\App.js",["55","56"],"import React from 'react';\nimport NavBar from './components/nav_bar';\nimport Main from './components/main';\nimport Login from './components/login';\nimport Button from 'react-bootstrap/Button';\nimport NotFound from './components/not_found';\nimport axios from 'axios';\nimport jwt from 'jwt-simple';\nimport compactDecrypt from 'jose/dist/browser/jwe/compact/decrypt.js';\nimport compactEncrypt from 'jose/dist/browser/jwe/compact/encrypt.js';\nimport parseJwk from 'jose/dist/browser/jwk/parse';\nimport generateKeyPair from 'jose/dist/browser/util/generate_key_pair.js';\nimport fromKeyLike from 'jose/dist/browser/jwk/from_key_like.js';\nimport { withRouter, Switch, Route} from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      loggedIn: false,\n      token: '',\n      userPrvKey: '',\n      userPubKey: '',\n      serverPubKey: '',\n    }\n  }\n\n  async decrypt(jwe_token) {\n      const decoder = new TextDecoder();\n      const jwe = jwe_token;\n      const key = this.state.userPrvKey\n      const {plaintext, protectedHeader} = await compactDecrypt(jwe, key);\n      const signedPayload = await decoder.decode(plaintext);\n      console.log(signedPayload);\n      const {token , msg} = jwt.decode(signedPayload, \"8kypu93zgd9w-=(7cvao=f3n*$to(gq+^178p##7=1+@x2@gn0\");\n      this.setState({token: token});\n      this.setState({loggedIn: true});\n      this.props.history.push(\"/main\");\n\n    }\n\n async encrypt(payload){\n      const encoder = new TextEncoder();\n      const json_key = JSON.parse(this.state.serverPubKey);\n      const publicKey = await parseJwk(json_key, 'RSA-OAEP-256');\n      const token = jwt.encode(payload, \"8kypu93zgd9w-=(7cvao=f3n*$to(gq+^178p##7=1+@x2@gn0\");\n      console.log(\"JWT THE DATA IS SIGNED\");\n      console.log(token);\n      const jwe = await new compactEncrypt(encoder.encode(token)).setProtectedHeader({ alg: 'RSA-OAEP-256', enc: 'A256GCM', username: this.state.username}).encrypt(publicKey)\n      console.log(\"JWE THE DATA THAT IS SENT\")\n      console.log(jwe);\n      return jwe;\n }\n\n async generalEncrypt(payload, key, username){\n      const encoder = new TextEncoder();\n      const json_key = JSON.parse(key);\n      const publicKey = await parseJwk(json_key, 'RSA-OAEP-256');\n      const token = jwt.encode(payload, \"8kypu93zgd9w-=(7cvao=f3n*$to(gq+^178p##7=1+@x2@gn0\");\n      console.log(\"JWT THE DATA IS SIGNED\");\n      console.log(token);\n      const jwe = await new compactEncrypt(encoder.encode(token)).setProtectedHeader({ alg: 'RSA-OAEP-256', enc: 'A256GCM', username: username}).encrypt(publicKey)\n      console.log(\"JWE THE DATA THAT IS SENT\")\n      console.log(jwe);\n      return jwe;\n}\n\n\n  handleUsernameChange = (event) => {\n    this.setState({username: event.target.value});\n  }\n\n  handlePasswordChange = (event) => {\n    this.setState({password: event.target.value});\n  }\n\n  handleLogin = async() => {\n    const url_login = \"http://localhost:8000/api/test-login/\";\n    const data = {\n      username: this.state.username,\n      password: this.state.password\n    }\n    const jwe = this.encrypt(data);\n    const payload = {\n      data: await jwe\n    }\n    const headers = {\n      headers: { 'Content-Type': 'application/json',}}\n    await axios.post(url_login,payload,headers).then(res => {\n      let jwe = res.data.enc;\n      this.decrypt(jwe);\n    }).catch(error => {\n      console.log(error.response);\n    });\n  }\n\n  handleSubmit = async(event) => {\n    event.preventDefault();\n    const loggedIn = await this.handleKeyRetrieval();\n    console.log(\"LOG ON \");\n    console.log(loggedIn);\n    if(loggedIn === false){\n      this.handleLogin();\n    } else {\n      this.notify(\"You're Already Logged In on Another Device\");\n    }\n  }\n\nasync handleKeyRetrieval(){\n    const {publicKey, privateKey } = await generateKeyPair('RSA-OAEP-256');\n    const publicJwk = await fromKeyLike(publicKey);\n    this.setState({userPubKey: publicJwk});\n    this.setState({userPrvKey: privateKey})\n    const url_key = \"http://localhost:8000/api/establish_key/\";\n    const payload = {\n      username: this.state.username,\n      key: publicJwk\n    }\n    let prevLogOn = false;\n    const headers = { headers: { 'Content-Type': 'application/json'}}\n    await axios.post(url_key,payload,headers).then(res => {\n        if(res.data.msg === \"error\"){\n          prevLogOn = true;\n        } else if (res.data.msg === \"success\") {\n          this.setState({serverPubKey: res.data.key})\n        }\n    }).catch(error => {\n      console.log(error.response);\n    });\n    return prevLogOn;\n  }\n\n  pushLogin = () => {\n    this.props.history.push(\"/login\");\n  }\n\n  handleLogout = (event) => {\n    const url = \"http://localhost:8000/api/logout/\";\n    const payload = {\n      Token: this.state.token,\n    }\n    const headers = {\n      headers: { 'Content-Type': 'application/json',\n                  'Authorization': `Token ${this.state.token}`, }}\n    axios.post(url,payload,headers).then(res => {\n      this.setState({loggedIn: false});\n      this.props.history.push(\"/login\");\n    }).catch(error => {\n    console.log(error.response)\n  });\n  }\n\n\n  notify = (message) => {\n    toast.configure();\n    toast(message);\n  }\n\n\n\n  handleNavbar = () => {\n    let logout = <Button className=\"btn btn-dark\" onClick={this.handleLogout}>Logout</Button> ;\n    let login = <Button className=\"btn btn-dark\" onClick={this.pushLogin}>Login</Button>\n    if (this.state.loggedIn === true){\n      return logout;\n    }\n    return login;\n  }\n\n\n  render(){\n    return (\n      <React.Fragment>\n        <NavBar label={this.handleNavbar()}/>\n        <Switch>\n        <Route path=\"/main\"\n        render={() => (\n          <Main loggedIn={this.state.loggedIn} username={this.state.username} token={this.state.token} encrypt={this.generalEncrypt} serverPubKey={this.state.serverPubKey}/>\n          )} exact={true}/>\n          <Route path=\"/login\"\n          render={() => (\n            <Login\n              unameChange={this.handleUsernameChange}\n              pswdChange={this.handlePasswordChange}\n              submit={this.handleSubmit}\n              loggedIn={this.state.loggedIn}\n              />\n           )} exact={true}/>\n           <Route path=\"*\"\n           render={() => (\n             <NotFound />\n            )} exact={true}/>\n        </Switch>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default withRouter(App);\n","D:\\Python\\horizon_react\\frontend\\src\\reportWebVitals.js",[],"D:\\Python\\horizon_react\\frontend\\src\\components\\nav_bar.jsx",[],"D:\\Python\\horizon_react\\frontend\\src\\components\\main.jsx",["57","58","59","60"],"import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport NewsFeed from './news_feed';\r\nimport WeatherFeed from './weather_feed';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { sizing } from '@material-ui/system';\r\nimport Container from 'react-bootstrap/Container';\r\n\r\n\r\n\r\nclass Main extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  async componentDidMount(){\r\n    if(this.props.loggedIn === false){\r\n      this.props.history.push(\"/login\");\r\n    }\r\n  }\r\n\r\n  render(){\r\n  return (\r\n    <Container style={{marginTop: \"2rem\"}}>\r\n    <NewsFeed token={this.props.token}/>\r\n    <Row style={{marginTop: \"1rem\"}}>\r\n      <Col> <WeatherFeed token={this.props.token}/> </Col>\r\n      <Col> <h1> SERVICE 2 </h1> </Col>\r\n    </Row>\r\n    </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Main);\r\n","D:\\Python\\horizon_react\\frontend\\src\\components\\login.jsx",["61"],"import React from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nclass Login extends React.Component{\r\n  render(){\r\n  return (\r\n    <React.Fragment>\r\n     <div className='container w-25' style={{ marginTop: \"300px\"}}>\r\n      <Form onSubmit={this.props.submit}>\r\n       <Form.Control type=\"username\" placeholder=\"Username\" onChange={this.props.unameChange}/>\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n         <Form.Control style={{ marginTop: \"2%\"}} type=\"password\" placeholder=\"Password\" onChange={this.props.pswdChange} />\r\n        </Form.Group>\r\n         <center>\r\n          <Button variant=\"dark btn-block\" type=\"submit\">Submit</Button>\r\n         </center>\r\n       </Form>\r\n     </div>\r\n    </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","D:\\Python\\horizon_react\\frontend\\src\\components\\side_bar.jsx",[],["62","63"],"D:\\Python\\horizon_react\\frontend\\src\\components\\not_found.jsx",["64"],"import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass NotFound extends React.Component{\r\n\r\n  render(){\r\n  return (\r\n    <React.Fragment>\r\n     <center>\r\n      <h1>Page Not Found</h1>\r\n    </center>\r\n    </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(NotFound);\r\n","D:\\Python\\horizon_react\\frontend\\src\\components\\news_feed.jsx",["65","66","67","68","69","70","71"],"import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Row from 'react-bootstrap/Row';\r\nimport CardColumns from 'react-bootstrap/CardColumns';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Button from 'react-bootstrap/Button';\r\nimport CardGroup from 'react-bootstrap/CardGroup';\r\nimport CardDeck from 'react-bootstrap/CardDeck';\r\nimport Carousel from 'react-multi-carousel';\r\nimport 'react-multi-carousel/lib/styles.css';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nclass NewsFeed extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      news: []\r\n    };\r\n  }\r\n\r\n  async componentDidMount(){\r\n    const config = {\r\n      headers: {'Authorization': `Token ${this.props.token}`},\r\n    }\r\n    await axios.get('http://localhost:8000/api/news/', config).then(res => {\r\n      let news = this.state.news;\r\n      res.data.msg.map(current => {\r\n        news.push({title: current.title, id: current.id, summary: current.summary});\r\n        this.setState({news})\r\n      });\r\n      console.log(this.state);\r\n    }).catch(error => {\r\n    console.log(error.response)\r\n    });\r\n   }\r\n\r\n  render(){\r\n\r\n  const responsive = {\r\n    desktop: {\r\n      breakpoint: { max: 3000, min: 1024 },\r\n      items: 1,\r\n      partialVisibilityGutter: 40 // this is needed to tell the amount of px that should be visible.\r\n    },\r\n    tablet: {\r\n      breakpoint: { max: 1024, min: 464 },\r\n      items: 1,\r\n      partialVisibilityGutter: 30 // this is needed to tell the amount of px that should be visible.\r\n    },\r\n    mobile: {\r\n      breakpoint: { max: 464, min: 0 },\r\n      items: 1,\r\n      partialVisibilityGutter: 30 // this is needed to tell the amount of px that should be visible.\r\n    }\r\n  }\r\n  return (\r\n\r\n    <Paper style={{padding: \"1rem\"}}>\r\n    <Carousel  infinite={true} autoPlay={this.props.deviceType !== \"mobile\" ? true : false} autoPlaySpeed={6000} responsive={responsive}>\r\n     {this.state.news.map( headline =>\r\n      <center>\r\n      <Card style={{height:\"10rem\", border: \"none\"}} key={headline.id}>\r\n      <Card.Body>\r\n      <Card.Title>{headline.title}</Card.Title>\r\n      <Card.Text > {headline.summary}</Card.Text>\r\n      </Card.Body>\r\n      </Card>\r\n      </center>\r\n     )}\r\n     </Carousel>\r\n     </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(NewsFeed);\r\n","D:\\Python\\horizon_react\\frontend\\src\\components\\weather_feed.jsx",["72","73","74","75","76","77","78"],{"ruleId":"79","severity":1,"message":"80","line":6,"column":25,"nodeType":"81","messageId":"82","endLine":6,"endColumn":31},{"ruleId":"79","severity":1,"message":"83","line":6,"column":33,"nodeType":"81","messageId":"82","endLine":6,"endColumn":38},{"ruleId":"79","severity":1,"message":"84","line":6,"column":40,"nodeType":"81","messageId":"82","endLine":6,"endColumn":44},{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"79","severity":1,"message":"89","line":36,"column":25,"nodeType":"81","messageId":"82","endLine":36,"endColumn":40},{"ruleId":"79","severity":1,"message":"90","line":39,"column":22,"nodeType":"81","messageId":"82","endLine":39,"endColumn":25},{"ruleId":"79","severity":1,"message":"91","line":3,"column":8,"nodeType":"81","messageId":"82","endLine":3,"endColumn":13},{"ruleId":"79","severity":1,"message":"92","line":8,"column":8,"nodeType":"81","messageId":"82","endLine":8,"endColumn":13},{"ruleId":"79","severity":1,"message":"93","line":9,"column":10,"nodeType":"81","messageId":"82","endLine":9,"endColumn":16},{"ruleId":"94","severity":1,"message":"95","line":15,"column":3,"nodeType":"96","messageId":"97","endLine":17,"endColumn":4},{"ruleId":"79","severity":1,"message":"98","line":4,"column":10,"nodeType":"81","messageId":"82","endLine":4,"endColumn":20},{"ruleId":"85","replacedBy":"99"},{"ruleId":"87","replacedBy":"100"},{"ruleId":"79","severity":1,"message":"101","line":3,"column":10,"nodeType":"81","messageId":"82","endLine":3,"endColumn":18},{"ruleId":"79","severity":1,"message":"102","line":5,"column":8,"nodeType":"81","messageId":"82","endLine":5,"endColumn":11},{"ruleId":"79","severity":1,"message":"103","line":6,"column":8,"nodeType":"81","messageId":"82","endLine":6,"endColumn":19},{"ruleId":"79","severity":1,"message":"104","line":7,"column":8,"nodeType":"81","messageId":"82","endLine":7,"endColumn":17},{"ruleId":"79","severity":1,"message":"105","line":8,"column":8,"nodeType":"81","messageId":"82","endLine":8,"endColumn":14},{"ruleId":"79","severity":1,"message":"106","line":9,"column":8,"nodeType":"81","messageId":"82","endLine":9,"endColumn":17},{"ruleId":"79","severity":1,"message":"107","line":10,"column":8,"nodeType":"81","messageId":"82","endLine":10,"endColumn":16},{"ruleId":"108","severity":1,"message":"109","line":29,"column":32,"nodeType":"110","messageId":"111","endLine":29,"endColumn":34},{"ruleId":"79","severity":1,"message":"102","line":5,"column":8,"nodeType":"81","messageId":"82","endLine":5,"endColumn":11},{"ruleId":"79","severity":1,"message":"103","line":6,"column":8,"nodeType":"81","messageId":"82","endLine":6,"endColumn":19},{"ruleId":"79","severity":1,"message":"104","line":7,"column":8,"nodeType":"81","messageId":"82","endLine":7,"endColumn":17},{"ruleId":"79","severity":1,"message":"105","line":8,"column":8,"nodeType":"81","messageId":"82","endLine":8,"endColumn":14},{"ruleId":"79","severity":1,"message":"106","line":9,"column":8,"nodeType":"81","messageId":"82","endLine":9,"endColumn":17},{"ruleId":"79","severity":1,"message":"107","line":10,"column":8,"nodeType":"81","messageId":"82","endLine":10,"endColumn":16},{"ruleId":"79","severity":1,"message":"112","line":11,"column":8,"nodeType":"81","messageId":"82","endLine":11,"endColumn":16},"no-unused-vars","'Switch' is defined but never used.","Identifier","unusedVar","'Route' is defined but never used.","'Link' is defined but never used.","no-native-reassign",["113"],"no-negated-in-lhs",["114"],"'protectedHeader' is assigned a value but never used.","'msg' is assigned a value but never used.","'axios' is defined but never used.","'Paper' is defined but never used.","'sizing' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'withRouter' is defined but never used.",["113"],["114"],"'Redirect' is defined but never used.","'Row' is defined but never used.","'CardColumns' is defined but never used.","'Container' is defined but never used.","'Button' is defined but never used.","'CardGroup' is defined but never used.","'CardDeck' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'Carousel' is defined but never used.","no-global-assign","no-unsafe-negation"]